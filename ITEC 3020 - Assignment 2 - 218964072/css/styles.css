/* Design tokens driven by [data-theme] on <html> */
:root {
  --bg: #ffffff;
  --fg: #0e1116;
  --muted: #5a6477;
  --card: #f7f9fc;
  --link: #0a66ff;
  --accent: #0a66ff;
  --btn-bg: #eef1f5;
  --btn-fg: #0e1116;
  --ring: #8db4ff;
}

html[data-theme="dark"] {
  --bg: #0b0f14;
  --fg: #e6e9ee;
  --muted: #a0a9ba;
  --card: #0f172a;
  --link: #98bdff;
  --accent: #98bdff;
  --btn-bg: #1b2433;
  --btn-fg: #e6e9ee;
  --ring: #a7c2ff;
}

/* Base */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  color: var(--fg);
  background: var(--bg);
  font: 16px/1.6 system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

a { color: var(--link); text-decoration: none; }
a:hover { text-decoration: underline; }
p { margin: .75rem 0; }

.container { max-width: 920px; margin: 0 auto; padding: 1rem; }
.page-title { font-size: clamp(2rem, 3vw + 1rem, 3rem); line-height: 1.2; margin: .5rem 0 1rem; }
.lede { font-size: 1.05rem; color: var(--muted); }

/* Header/Footer */
.site-header, .site-footer { border-bottom: 1px solid color-mix(in oklab, var(--fg), transparent 86%); }
.site-footer { border-bottom: none; border-top: 1px solid color-mix(in oklab, var(--fg), transparent 86%); }

/* Nav */
.nav { display: flex; align-items: center; gap: 1rem; }
.brand { font-weight: 700; color: var(--fg); }
.nav-links { list-style: none; display: flex; gap: .75rem; margin: 0; padding: 0; }
.nav a { color: var(--fg); padding: .25rem .4rem; border-radius: .4rem; }
.nav a[aria-current="page"] { background: color-mix(in oklab, var(--accent), transparent 85%); }

/* Buttons */
.btn {
  padding: .52rem .82rem;
  border-radius: .55rem;
  border: 1px solid color-mix(in oklab, var(--fg), transparent 80%);
  background: var(--btn-bg);
  color: var(--btn-fg);
  cursor: pointer;
  transition: transform .06s ease, filter .1s ease;
}
.btn:hover { filter: brightness(1.05); transform: translateY(-1px); }
.btn:active { transform: translateY(0); }
.btn-primary {
  background: color-mix(in oklab, var(--accent), white 80%);
  color: #0b2a66;
  border-color: color-mix(in oklab, var(--accent), transparent 55%);
}
html[data-theme="dark"] .btn-primary {
  background: color-mix(in oklab, var(--accent), black 80%);
  color: #dfe8ff;
  border-color: color-mix(in oklab, var(--accent), transparent 50%);
}

/* Blog controls and list */
.blog-controls { display: flex; gap: .5rem; flex-wrap: wrap; margin: .5rem 0 1rem; }
.chip {
  display: inline-flex; align-items: center; gap: .4rem;
  padding: .35rem .6rem;
  border-radius: 999px;
  border: 1px solid color-mix(in oklab, var(--fg), transparent 80%);
  background: color-mix(in oklab, var(--card), var(--bg) 40%);
  color: var(--fg);
  cursor: pointer; font-size: .95rem;
}
.chip[data-active="true"] {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent), transparent 80%);
}

.blog-list { display: grid; grid-template-columns: 1fr; gap: 1rem; }
@media (min-width: 720px) { .blog-list { grid-template-columns: 1fr 1fr; } }

article.card {
  background: var(--card);
  padding: 1rem;
  border-radius: .9rem;
  box-shadow: 0 1px 0 color-mix(in oklab, var(--fg), transparent 90%);
}
.card h2 { margin: 0 0 .25rem 0; font-size: 1.15rem; }
.card .meta { display: flex; gap: .5rem; align-items: center; color: var(--muted); font-size: .9rem; }
.card .tags { margin-top: .5rem; color: color-mix(in oklab, var(--fg), transparent 35%); }

/* Code samples follow the theme */
code,
pre code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  background: color-mix(in oklab, var(--bg), var(--fg) 6%);
  color: var(--fg);
  padding: 0.1em 0.35em;
  border-radius: 0.35rem;
}
pre {
  background: color-mix(in oklab, var(--bg), var(--fg) 6%);
  padding: 0.75rem;
  border-radius: 0.75rem;
  overflow: auto;
}
pre code { background: transparent; padding: 0; }

/* Loading skeletons while fetch runs */
.skel {
  border-radius: .9rem; height: 110px;
  background: linear-gradient(90deg,
    color-mix(in oklab, var(--fg), transparent 93%),
    color-mix(in oklab, var(--fg), transparent 88%),
    color-mix(in oklab, var(--fg), transparent 93%));
  background-size: 200% 100%; animation: shimmer 1.2s infinite;
}
@keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

/* A11y */
.skip { position: absolute; left: -9999px; top: 0; padding: .5rem .75rem; background: var(--card); color: var(--fg); border-radius: .5rem; }
.skip:focus { left: .5rem; top: .5rem; }
:focus-visible { outline: 3px solid var(--ring); outline-offset: 2px; }
@media (prefers-reduced-motion: reduce) { * { transition: none !important; animation: none !important; } }

.visually-hidden { position: absolute; left: -9999px; width: 1px; height: 1px; overflow: hidden; }
.muted { color: var(--muted); }
